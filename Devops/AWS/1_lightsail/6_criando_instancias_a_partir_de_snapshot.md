<div class="formattedText" data-external-links="">
                                <p>A seguir, vamos estudar dois serviços junto da nossa VM: <strong><em>snapshots</em></strong> e <strong><em>load balancers</em></strong> (balanceadores de carga).</p>
<p>O snapshot é um serviço para <strong><em>organizar back-ups</em></strong>, as cópias de segurança da nossa máquina. Sempre que possível, antes de fazer um <em>snapshot</em>, é ideal parar a instância para não nos arriscarmos a corromper dados.</p>
<p>Então, na tela inicial da interface da Lightsail, vamos clicar nos três pontos no canto superior direito da instância Ubuntu-1 e selecionar "<em>Manage</em>". Na parte superior dessa página, pressionaremos o botão "<em>Stop</em>", à direita. Para confirmar a ação, basta clicar em "<em>Stop</em>" novamente.</p>
<p>Enquanto aguardamos a parada, vamos conversar sobre o que faremos nessa aula. Nossa estratégia será criar um <em>snapshot</em> da nossa VM e, a partir dele, gerar outra instância. Ou seja, a máquina que provisionamos servirá de modelo para as demais, por meio do <em>snapshot</em>. Desse modo, pouparemos bastante tempo.</p>
<p>Depois, avançaremos para a parte de <em>load balancing</em>. Para acessar a seção referente a esse serviço, clicaremos na aba "<em>Networking</em>", onde se encontra o tópico "<em>Load balancing</em>". Em resumo, teremos diversas instâncias e, à frente delas, um <em>load balancer</em> para garantir um <strong>ambiente de alta disponibilidade</strong>.</p>
<h2>Gerando um <em>snapshot</em></h2>
<p>Após alguns minutos, o status da instância Ubuntu-1 mudará de "<em>Stopping</em>" para "<em>Stopped</em>" na tela inicial da Lighsail. Uma vez parada, podemos avançar. Vamos clicar nos três pontos no canto superior direito da instância Ubuntu-1 e acessar a aba "<em>Snapshots</em>", em que temos dois tópicos: "<em>Manual snapshots</em>" e "<em>Automatic snapshots</em>".</p>
<p>Em "<em>Automatic snapshots</em>", podemos habilitar ou desabilitar os <em>snapshots</em> automáticos, uma opção sobre a qual comentamos ao criar a instância anteriormente. No caso, faremos esse processo manualmente.</p>
<p>Em "<em>Manual snapshots</em>", vamos clicar em "<em>Create snapshot</em>", substituir o nome padrão por "nginx-snapshot" e pressionar "<em>Create</em>", no canto direito inferior. Após alguns instantes, o <em>snapshot</em> será criado.</p>
<h2>Alta disponibilidade</h2>
<p>"<strong>Alta disponibilidade</strong>" significa garantir que a aplicação continue no ar, em caso de falha de uma instância. Vamos juntar esse conceito à questão da infraestrutura do nosso provedor de nuvem.</p>
<p>Na tela inicial da Lightsail, vamos clicar nos três pontos no canto superior direito da instância Ubuntu-1 e selecionar "<em>Manage</em>". No topo dessa página, temos detalhes da nossa máquina e sabemos que ela está localizada na região da Virgínia, na zona A.</p>
<p>Para entender mais claramente, podemos <a href="https://aws.amazon.com/pt/about-aws/global-infrastructure/regions_az/" target="_blank" rel="nofollow noopener noreferrer">acessar a página da AWS referente a regiões e zonas de disponibilidade</a>, em que temos um mapa interativo. Selecionando o continente "América do Norte" no menu superior, é possível verificar pontos azuis e amarelos no mapa, relativos às regiões. Passando o <em>mouse</em> sobre eles, lemos mais informações, como nome e quantidade de zonas.</p>
<p>Para garantir um ambiente de alta disponibilidade, além de colocar um <em>load balancer</em>, é interessante ter máquinas em <strong>zonas distintas</strong>. Assim, se ocorrer uma falha em uma das zonas, a outra instância continua no ar.</p>
<p>Acessando a aba "<em>snapshots</em>", vamos clicar nos três pontos à direita do <em>snapshot</em> "nginx-snapshot" e selecionar "<em>Create new instance</em>" para criar nossa segunda máquina a partir desse <em>snapshot</em>.</p>
<p>Por padrão, a localização dessa segunda instância será igual à da primeira. Logo, sob o tópico "<em>Select an Availability Zone</em>", vamos mudar para "<strong><em>Zone B</em></strong>". De resto, não precisamos modificar mais nenhuma configuração. Usaremos o nome "Ubuntu-2". Inclusive, note que utilizaremos a mesma chave SSH da instância anterior, <code>lightsail-rmerces</code>. Então, pressionaremos o botão "<em>Create instance</em>" ao final da página.</p>
<p>Após concluir esse processo, teremos duas máquinas em zonas de disponibilidades diferentes. No próximo vídeo, colocaremos o <em>load balancer</em> para evoluir a infraestrutura em que estamos trabalhando.</p>
                        </div>
<div class="formattedText" data-external-links="">
                                <p>Vamos continuar a interagir com o terminal. Devemos acessar <a href="https://docs.aws.amazon.com/cli/latest/index.html" rel="nofollow noopener" target="_blank">https://docs.aws.amazon.com/cli/latest/index.html</a>, onde encontraremos a lista de comandos disponíveis na <em>AWS CLI</em>. Vamos rolar a página para baixo até encontrarmos a opção "s3", na qual clicaremos.</p>
<p>Nessa página, encontramos os comandos básicos. De volta ao terminal, vamos criar um novo <em>bucket</em>, inserindo o comando <code>aws s3 mb s3://rmerces-labs4</code>. Vamos verificar se o novo repositório realmente foi criado, com o comando <code>aws s3 ls</code>. Ao fazer isso, perceberemos que o processo funcionou.</p>
<p>Agora que o <em>bucket</em> está criado, vamos enviar objetos a ele. No vídeo, o instrutor acessa a pasta "sysctl &gt; sysctl.d" do seu computador pela linha de comando. Vamos acessar alguma pasta do nosso computador. Depois, usaremos o comando <code>ls</code> para visualizar os arquivos que podemos enviar ao repositório: </p>
<pre class="prettyprint"><code class="hljs language-bash"><span class="hljs-built_in">cd</span> /etc/sysctl.
<span class="hljs-built_in">cd</span> /etc/sysctl.d
<span class="hljs-built_in">ls</span></code><button type="button" class="clipit">Copiar código</button></pre><p>A manipulação do <em>AWS</em> pela <em>CLI</em> é mais proveitosa, porque é o que vamos utilizar para criar nossos <em>scripts</em> e automações. Agora, vamos usar o comando <code>cp</code> para copiar algum arquivo da nossa pasta para o <em>bucket</em> <code>s3://rmerces-labs4</code>. No vídeo, o instrutor envia a cópia do arquivo README.sysctl:</p>
<pre class="prettyprint"><code class="hljs language-bash">aws s3 <span class="hljs-built_in">cp</span> README.sysctl s3://rmerces-labs4</code><button type="button" class="clipit">Copiar código</button></pre><p>Poderíamos checar se deu certo pelo <em>console</em>, mas faremos isso pela <em>CLI</em>. Basta inserir o comando <code>aws s3 ls s3://rmerces-labs4</code>. Com isso, veremos que o conteúdo foi copiado no novo <em>bucket</em>. Podemos copiar arquivo por arquivo, mas o comando <code>sync</code> é capaz de sincronizar os conteúdos do repositório local e do <em>S3</em>:</p>
<pre class="prettyprint"><code class="hljs language-bash">aws s3 <span class="hljs-built_in">sync</span> . s3://rmerces-labs4</code><button type="button" class="clipit">Copiar código</button></pre><p>Depois disso, podemos checar o <em>bucket</em> e perceber que todos os conteúdos do repositório local agora estão presentes no <em>S3</em>. Agora, vamos até o navegador para verificar, via <em>console</em>, a presença dos novos objetos. </p>
<p>Acessaremos "Amazon S3 &gt; Buckets &gt; rmerces-labs4". Nesse repositório, estarão os arquivos que acabamos de enviar via <em>CLI</em>. Com isso, percebemos como é simples operar essa ferramenta pela linha de comando. </p>
<p>Vamos voltar à página "Buckets". Se tentarmos selecionar e deletar o bucket "rmerces-labs1", receberemos o aviso de que o repositório não está vazio e não será possível deletá-lo. Precisaremos limpar o <em>bucket</em> antes de exclui-lo. Vamos voltar à página anterior e, com o repositório "rmerces-labs1" selecionado, clicaremos no botão "Empty".</p>
<p>Essa funcionalidade serve para esvaziar um repositório. Basta digitar <em>"permanently delete"</em> na caixa de texto para confirmar a ação. Depois disso, já com o <em>bucket</em> vazio, conseguiremos deletá-lo.</p>
<p>Agora vamos aprender a excluir um <em>bucket *pelo terminal. No caso, o repositório "rmerces-labs3". Faremos isso executando o comando <code>aws s3 rb s3://rmerces-labs3</code>. Assim como no *console</em>, não conseguiremos completar a ação, porque o <em>bucket</em> não está vazio. Antes, precisaremos esvaziá-lo.</p>
<p>Para fazer isso, basta adicionar <code>--force</code> ao comando:</p>
<pre class="prettyprint"><code class="hljs language-bash">aws s3 rb s3://rmerces-labs3 --force</code><button type="button" class="clipit">Copiar código</button></pre><p>Depois disso, tanto os objetos quanto o <em>bucket *serão deletados permanentemente. Se executarmos o comando <code>aws s3 ls</code>, veremos que os *buckets</em> restantes são "rmerces-labs2" e "rmerces-labs4". </p>
<p>Antes de avançarmos para a próxima aula, o instrutor pede que façamos o exercício de acessar "IAM &gt; User &gt; Add users" para criar um novo usuário, o "s3-user2". Em "Select AWS access type", selecionaremos a primeira opção, "Access key - Programmatic access". Vamos adicionar esse novo usuário ao grupo de <em>view</em>.</p>
<p>O objetivo da atividade é operar a <em>AWS</em> pela <em>CLI</em>. Vamos tentar excluir um <em>bucket</em> pela linha de comando. E aí, será que conseguiremos?</p>
<p>No próximo vídeo, vamos aprender sobre versionamento, <em>life cycle</em> e outras funções do <em>S3</em>.</p>
                        </div>